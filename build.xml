<?xml version="1.0"?>
<!-- ant build file for simulator-freenet-caching -->
<project name="simulator-freenet-caching" default="dist" basedir=".">
	<property name="source-version" value="1.6"/>
	<property name="target-version" value="1.6"/>
	<property name="build" location="build/"/>
	<property name="dist" location="dist/"/>

	<target name="mkdir">
		<mkdir dir="${build}"/>
		<mkdir dir="${dist}"/>
	</target>
	
	<target name="compile" depends="mkdir" >
		<tstamp/>
		<javac srcdir="src/" destdir="${build}" debug="on" optimize="on" source="${source-version}" target="${target-version}" includeantruntime="false">
			<include name="**/*.java"/>
		</javac>
	</target>

	<target name="dist" depends="clean,compile"
		description="generate the distribution" >
		<jar jarfile="${dist}/simulator-freenet-caching.jar" duplicate="fail">
			<fileset dir="${build}/"/>
            <manifest>
                <attribute name="Main-Class" value="CachingSim.main"/>
            </manifest>
		</jar>
	</target>

	<target name="clean" description="Delete class files and docs dir.">
		<delete dir="${build}"/>
		<delete dir="${dist}"/>
	</target>
</project>
